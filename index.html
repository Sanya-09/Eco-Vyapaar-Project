<!DOCTYPE html>
<html lang="en" id="html-lang">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Eco-Vyapaar - Sustainable Marketplace for Street Food Vendors</title>
    <meta
      name="description"
      content="Connect street food vendors with wholesale suppliers through Eco-Vyapaar's sustainable marketplace platform. Eco-friendly business solutions for local vendors."
    />
    <meta name="author" content="Eco-Vyapaar Team" />

    <!-- Hugging Face Translation API -->
    <script src="https://cdn.jsdelivr.net/npm/@huggingface/inference@latest"></script>

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha384-k6RqeWeci5ZR/Lv4MR0sA0FfDOMt23cez/3paNdF+e5hZl5a7j8b6d1c5d9k5p"
      crossorigin="anonymous"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/eco-vyapaar-logo.png" />
    <link rel="shortcut icon" type="image/png" href="/eco-vyapaar-logo.png" />

    <!-- Social Meta Tags -->
    <meta
      property="og:title"
      content="Eco-Vyapaar - Sustainable Marketplace for Street Food Vendors"
    />
    <meta
      property="og:description"
      content="Connect street food vendors with wholesale suppliers through Eco-Vyapaar's sustainable marketplace platform."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://lovable.dev/opengraph-image-p98pqg.png"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta
      name="twitter:image"
      content="https://lovable.dev/opengraph-image-p98pqg.png"
    />

    <!-- Inline CSS for Language Selector -->
    <style>
      .language-selector-container {
        position: fixed;
        left: 100px;
        top: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        z-index: 999;
        background: rgba(255, 255, 255, 0.95);
        padding: 8px 12px;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
      }

      .language-selector-label {
        font-weight: 500;
        font-size: 0.9rem;
        color: #333;
      }

      #language-selector {
        padding: 5px 8px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background: white;
        font-size: 0.9rem;
        cursor: pointer;
      }

      #language-selector:hover {
        border-color: #999;
      }

      .language-selector-container:hover {
        background: white;
      }
    </style>
  </head>

  <body>
    <!-- üåê Language Selector -->
    <div class="language-selector-container">
      <select id="language-selector">
        <option value="en_XX">üåê English</option>
        <option value="hi_IN">üåê ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
        <option value="es_XX">üåê Espa√±ol</option>
        <!-- Add more languages if needed -->
      </select>
    </div>


    <!-- üîå React Root -->
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- ü§ñ Chatbot Button 
    <button id="chatbot-button" class="chatbot-button">
      <img src="src/assets/chatbot.webp" alt="Chatbot Icon" />
    </button>
    <div id="chatbot-widget" class="chatbot-widget"></div>
    <script>
     document.getElementById('chatbot-btn').onclick = () => {
    const bot = document.getElementById('chatbot-widget');
    bot.style.display = bot.style.display === 'none' ? 'block' : 'none';
  };
</script> -->

<script
    src="https://www.chatbase.co/embed.min.js"
    chatbotId="2Ra4G3v2VmOtj8593QM0J"
    domain="www.chatbase.co"
    defer>
  </script>

    <!-- üîÅ Hugging Face Language Script -->
    <script>
      const HF_TOKEN = "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";

      async function translateText(text, targetLang) {
        const response = await fetch(
          "https://api-inference.huggingface.co/models/facebook/mbart-large-50-many-to-many-mmt",
          {
            method: "POST",
            headers: {
              Authorization: `Bearer ${HF_TOKEN}`,
              "Content-Type": "application/json",
            },
            body: JSON.stringify({
              inputs: text,
              parameters: {
                src_lang: "en_XX",
                tgt_lang: targetLang,
              },
            }),
          }
        );

        const result = await response.json();
        return result[0]?.translation_text || text;
      }

      async function translateAllText(targetLang) {
        const elements = document.querySelectorAll("[data-translate]");
        for (const el of elements) {
          const original = el.innerText;
          const translated = await translateText(original, targetLang);
          el.innerText = translated;
        }
      }

      document
        .getElementById("language-selector")
        .addEventListener("change", function () {
          const langCode = this.value;
          translateAllText(langCode);
        });
    </script>
  </body>
</html>
